# TCP Sequence Number와 Acknowledgment Number 정리

## 1. 개요

TCP는 신뢰성 있는 전송을 위해 바이트 단위의 번호 체계를 사용한다.    
`Sequence Number(seq)`는 송신 측에서 보내는 세그먼트의 첫 바이트 번호를 의미하며,    
`Acknowledgment Number(ack)`는 수신 측이 다음에 받고자 하는 바이트 번호를 의미한다.

쉽게설명하자면 ACK 는 다음에 받아야할 데이터번호, Seq 는 지금까지 받은 데이터번호!
---

## 2. Sequence Number(순서번호)

Sequence Number는 다음 사항을 의미한다.

* 현재 전송하는 세그먼트의 **첫 번째 바이트 번호**이다.
* TCP는 패킷 번호가 아니라 **바이트 기반 번호**를 사용한다.
* 예: 세그먼트의 seq가 100이고, 데이터 길이가 500바이트라면 해당 세그먼트는 100~599 바이트를 포함한다.

---

## 3. Acknowledgment Number(확인번호)

Acknowledgment Number(ACK 번호)는 다음 사항을 의미한다.

* 수신 측이 “다음으로 받고 싶은 바이트 번호”이다.
* TCP는 누적 ACK 방식으로 동작한다.
  즉, **여기까지 문제없이 받았다**는 의미이며 다음 바이트 번호를 나타낸다.

예:

* 송신자가 seq = 100, 데이터 500바이트 전송
* 수신자는 100~599 바이트까지 수신
* 수신자는 ack = 600을 보낸다.

---

## 4. ACK 증가 규칙

일반적인 공식은 다음과 같다.

```
ACK = Seq + payload_length
```

예:

* Seq = 100
* payload = 500바이트
* ACK = 600

payload가 1바이트일 경우에만 다음과 같이 보일 뿐이다.

```
ACK = Seq + 1
```

---

## 5. 핵심 정리

| 항목                    | 의미                           |
| --------------------- | ---------------------------- |
| Sequence Number       | 이번 세그먼트의 **첫 바이트 번호**        |
| Acknowledgment Number | **다음에 받고 싶은 바이트 번호**         |
| ACK 증가 규칙             | `ACK = Seq + 데이터 길이`         |
| 특별한 경우                | 데이터가 1바이트인 경우만 `Seq + 1`이 된다 |

---

