## 네트워크 데이터평면과 제어평면의 차이

### 1. 데이터평면(Data Plane)

* 목적: 실제 **패킷을 처리하고 전달하는 역할**을 담당한다.
* 기능:

  * 라우팅 테이블이나 포워딩 규칙을 기반으로 패킷을 전달한다.
  * 스위치의 MAC 테이블, 라우터의 FIB(Forwarding Information Base)를 사용한다.
* 위치: 스위치, 라우터 내부의 **하드웨어/ASIC** 수준에서 동작한다.
* 특징: 빠르고 단순하며 실시간성이 중요하다.

### 2. 제어평면(Control Plane)

* 목적: **네트워크의 동작을 결정하는 지능적 역할**을 담당한다.
* 기능:

  * 라우팅 프로토콜(OSPF, BGP 등) 실행
  * 네트워크 정책 및 트래픽 제어
  * 포워딩 테이블 생성 및 업데이트
* 위치: 각 네트워크 장비 내부의 **소프트웨어/OS**에서 동작한다.
* 특징: 경로 계산, 정책 설정 등 복잡한 연산을 처리한다.

---

## SDN(Software Defined Networking)에서의 분리 구조

SDN은 전통적인 네트워크 구조의 한계를 해결하기 위해 **제어평면과 데이터평면을 분리한 아키텍처**를 사용한다.

### 핵심 개념

* 기존에는 스위치/라우터 **하나가 제어 + 데이터 처리 모두 수행**했다.
* SDN은

  * **데이터평면**: 단순히 패킷을 전달하는 장치(OpenFlow Switch 등)
  * **제어평면**: 중앙 컨트롤러(예: ONOS, OpenDaylight)가 모든 장치를 제어
    로 역할을 완전히 분리한다.

### 장점

1. 네트워크를 **중앙에서 제어**할 수 있어 정책 변경, 경로 설정이 쉽다.
2. 장비 제조사에 구애받지 않으며 **프로그램으로 제어**할 수 있다.
3. 새로운 기능을 빠르게 실험하거나 적용하기 쉽다.
4. 복잡한 라우팅 계산을 컨트롤러가 수행하므로 장비 부담이 줄어든다.

### 동작 흐름 예시

1. 스위치가 처음 보는 패킷을 받는다.
2. 스위치는 패킷 헤더 정보를 SDN 컨트롤러에게 전달한다.
3. 컨트롤러는 경로를 계산하고 스위치에게 **포워딩 규칙(flow rule)**을 내려준다.
4. 이후 스위치는 전달받은 규칙대로 빠르게 패킷을 처리한다.

---

## 예시 상황

### 예시: 캠퍼스 네트워크

* 기존 방식: 각 스위치가 서로 OSPF로 라우팅하면서 관리 포인트가 많다.
* SDN 방식: 중앙 컨트롤러가 모든 스위치의 경로를 계산해줘서

  * 특정 건물로 가는 트래픽을 우선 제어
  * 특정 사용자 트래픽 차단
    같은 작업을 한 번에 적용할 수 있다.

### 예시: 데이터센터

* 기존 방식: 장비마다 설정(NAT, VLAN, ACL 등)을 반복적으로 수행해야 한다.
* SDN 방식: 컨트롤러에서 API 호출로

  * 새로운 서비스 네트워크 생성
  * 트래픽 shaping
  * 자동 경로 최적화
    를 자동화할 수 있다.

---

## 표로 정리

| 구분    | 데이터평면          | 제어평면            | SDN에서의 동작              |
| ----- | -------------- | --------------- | ---------------------- |
| 역할    | 패킷 전달          | 경로 결정·정책 설정     | 둘을 분리하여 제어는 중앙화        |
| 위치    | 스위치/라우터의 하드웨어  | 장비 내부 OS·라우팅 엔진 | 컨트롤러(SDN Controller)   |
| 주요 기능 | 포워딩, 큐잉        | 라우팅, 정책, 흐름 관리  | 장비에게 포워딩 규칙 전달         |
| 처리 방식 | 고속·단순          | 계산 중심·지능적       | 컨트롤러가 계산, 장비는 전달       |
| 예시    | MAC 테이블 기반 포워딩 | OSPF, BGP 동작    | OpenFlow 기반 플로우 테이블 설정 |

---

