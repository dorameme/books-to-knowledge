# ping과 ICMP의 관계

---

## 1. ICMP란 무엇인가

ICMP는 Internet Control Message Protocol이다.     
IP 계층에서 오류 보고와 네트워크 상태 확인을 위해 사용한다.    
데이터 전송용 프로토콜이 아니라 제어·진단용 프로토콜이다.    
IP 패킷 안에 캡슐화되어 전달된다.

---

## 2. ping이란 무엇인가

ping은 네트워크 연결 상태를 확인하는 진단 도구이다.     
목적지까지 도달 가능한지와 왕복 지연 시간(RTT)을 측정한다.     
애플리케이션이지만, 실제 동작은 ICMP를 사용한다.

---

## 3. ping과 ICMP의 정확한 관계

ping은 ICMP 메시지를 이용해 동작한다.

* ping 요청 → ICMP Echo Request (Type 8) 전송
* ping 응답 → ICMP Echo Reply (Type 0) 수신

즉, ping은 ICMP Echo 메시지를 생성·해석하는 프로그램이다.     
ICMP 없이는 ping이 동작하지 않는다.

---

## 4. 동작 흐름

1. ping 프로그램이 ICMP Echo Request를 생성한다
2. IP 패킷에 실려 목적지로 전송된다
3. 목적지가 살아 있으면 ICMP Echo Reply를 반환한다
4. ping은 요청–응답 시간을 계산해 RTT를 출력한다

---

## 5. 중요한 오해 정리

* ping은 프로토콜이 아니다
* ICMP는 TCP나 UDP 위에서 동작하지 않는다
* ICMP는 IP 바로 위에서 동작한다

---

## 6. 보안 및 실무 포인트

방화벽에서 ICMP를 차단하면 ping은 실패한다.      
하지만 서비스(TCP/UDP)는 정상 동작할 수 있다.     
따라서 ping 실패 = 서비스 불가 는 아니다.     

---

## 한 줄 요약

ping은 ICMP Echo Request/Reply를 사용하는 네트워크 진단 도구이다.
