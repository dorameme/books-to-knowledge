# NAT와 DHCP의 상호 관계 정리

NAT와 DHCP는 서로 다른 역할을 하지만, 실제 네트워크 환경에서는 **서로 매우 강하게 연결되어 동작한다.**

## 1. DHCP는 내부 네트워크(IP 사설망)에 IP 주소를 할당한다

DHCP는 사설 네트워크 내부에서 클라이언트(PC, 스마트폰 등)에게 다음을 자동으로 할당한다.

* 사설 IP 주소
* 서브넷 마스크
* 게이트웨이(NAT 장비의 내부 인터페이스 IP)
* DNS 서버

즉, DHCP는 **내부망(사설망)의 주소 체계를 구성하는 역할**을 한다.

---

## 2. NAT는 내부 IP(사설 IP)를 외부 IP(공인 IP)로 변환한다

NAT는 내부에서 받은 사설 IP를 인터넷에 나갈 때 **공인 IP로 변환한다.**
사설 IP는 인터넷에서 통신할 수 없으므로 NAT가 필수적이다.

이때 NAT 장비는 일반적으로 **DHCP 서버 역할도 함께 수행**한다.
(가정용 공유기가 대표적 예이다.)

---

## 3. 둘의 직접적인 연결 관계

### 관계 1: DHCP가 사설 IP를 배포해야 NAT가 의미가 있다

NAT는 내부 장비에 사설 IP가 있어야 동작할 수 있다.
그 사설 IP를 자동으로 배포하는 것이 DHCP이다.

즉,
**DHCP → 내부 주소 부여 → NAT → 외부로 변환**
이라는 흐름이 된다.

---

### 관계 2: DHCP가 기본 게이트웨이로 NAT 장비를 전달한다

DHCP는 클라이언트에게 **기본 게이트웨이(default gateway)** 를 알려준다.
이 기본 게이트웨이가 바로 NAT를 수행하는 라우터이다.

따라서 클라이언트가 인터넷에 나갈 수 있는 이유는
DHCP가 “인터넷 나가는 문”을 NAT 장비로 알려줬기 때문이다.

---

### 관계 3: 둘 다 사설망 구조 전제 위에서 동작한다

* DHCP는 사설 IP 대역을 효율적으로 관리한다.
* NAT는 사설 IP 대역을 인터넷으로 연결한다.
* 둘은 함께 사용되도록 설계된 구조이다.

---

## 4. 종합 정리

* DHCP는 **내부망에 사설 IP를 자동으로 배포**한다.
* NAT는 **해당 사설 IP를 공인 IP로 변환**하여 인터넷 통신을 가능하게 한다.
* DHCP가 내부 주소 체계를 만들고, NAT가 외부와 연결하는 구조이다.
* 가정용 공유기나 일반 네트워크 장비는 대부분 **NAT + DHCP 서버를 동시에 수행**한다.

---

