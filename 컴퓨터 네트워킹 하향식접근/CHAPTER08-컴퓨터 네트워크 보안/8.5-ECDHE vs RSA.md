
**RSA 대신 ECDHE를 쓰는 이유?**


---

## RSA 키 교환

* 서버는 장기간 사용하는 공개키와 개인키 쌍을 가진다.
* 클라이언트는 대칭키 또는 Pre-Master Secret을 생성한다.
* 클라이언트는 이를 서버의 공개키로 암호화하여 전송한다.
* 서버는 **항상 같은 개인키로 복호화**한다.
* 서버 개인키가 유출되면 과거에 캡처된 통신의 대칭키를 복구할 수 있다.
* Forward Secrecy를 제공하지 않는다.

---

## ECDHE 키 교환

* 클라이언트와 서버는 **세션마다 임시 비대칭 키 쌍을 생성**한다.
* 공개값만 서로 교환한다.
* 각자는 자신의 개인값으로 동일한 공유 비밀값을 계산한다.
* 공유 비밀값으로 대칭키를 생성한다.
* 임시 키는 세션 종료 후 폐기한다.
* 서버 개인키가 유출되어도 과거 세션 키를 복구할 수 없다.
* Forward Secrecy를 제공한다.

---

## 핵심 차이 요약

* RSA는 개인키로 대칭키를 **복호화**한다.
* ECDHE는 개인키로 대칭키를 **계산**한다.
* RSA는 과거 통신이 노출될 수 있다.
* ECDHE는 과거 통신이 보호된다.

---

| 구분              | RSA 키 교환       | ECDHE 키 교환        |
| --------------- | -------------- | ----------------- |
| 분류              | 비대칭 암호 기반 키 교환 | 비대칭 수학 기반 키 교환    |
| 서버 개인키          | 장기간 동일하게 사용한다  | 키 교환에 직접 사용하지 않는다 |
| 세션별 키 생성        | 없다             | 매 세션마다 임시 키를 생성한다 |
| 대칭키 생성 방식       | 대칭키를 암호화해 전달한다 | 공유 비밀값을 계산해 생성한다  |
| 복호화 과정          | 서버 개인키로 복호화한다  | 복호화 과정이 없다        |
| Forward Secrecy | 제공하지 않는다       | 제공한다              |
| 개인키 유출 시 영향     | 과거 통신 복호화 가능하다 | 과거 통신 복호화 불가능하다   |
| TLS 최신 표준       | 사용하지 않는다       | 필수로 사용한다          |


## 한 문장 요약

RSA 키 교환은 서버 개인키 유출 시 과거 통신이 노출되지만, ECDHE 키 교환은 세션마다 임시 키를 사용해 과거 통신을 보호한다.

