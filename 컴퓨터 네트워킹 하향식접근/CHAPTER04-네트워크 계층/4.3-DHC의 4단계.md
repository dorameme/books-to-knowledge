
# DHCP 네 단계(DORA) 정리

DHCP는 클라이언트가 네트워크에서 자동으로 IP 주소를 받기 위해 사용하는 프로토콜이다.     
DHCP 동작 과정은 네 단계 DORA로 구성된다.

---

## 1. Discover

클라이언트가 자신에게 IP 주소를 줄 DHCP 서버를 찾기 위해 **브로드캐스트 메시지(255.255.255.255)** 를 보낸다.     
초기 클라이언트는 IP 주소가 없기 때문에 라우터를 지나 다른 서브넷으로 메시지를 보낼 수 없다.    
따라서 같은 서브넷에 포함된 모든 장비에게 “DHCP 서버가 어디 있는가”를 묻는 형태로 탐색을 수행한다.     

---

## 2. Offer

DHCP 서버는 Discover 메시지를 받은 뒤, 사용 가능한 IP 주소를 제안하여 클라이언트에게 보낸다.          
이 단계에서는 서버가 “이 IP를 사용할 수 있다”라고 제시한다.

---

## 3. Request
    
클라이언트는 여러 서버가 제안한 IP 중 하나를 선택하여, 해당 서버에게 "당신이 제안한 IP를 사용하겠다"라고 요청한다.     
이 단계에서 클라이언트는 특정 서버의 제안을 공식적으로 수락한다.      

---

## 4. Acknowledgment

서버는 클라이언트의 요청을 승인하고,     
최종적으로 IP 주소, 서브넷 마스크, 게이트웨이, DNS 등 필요한 네트워크 설정 정보를 제공한다.    
이 단계가 완료되면 클라이언트는 네트워크에서 정상적으로 동작한다.    

---

## 정리

* DHCP Discover는 **로컬 서브넷 전체에 브로드캐스트**된다.      
* 라우터는 브로드캐스트를 전달하지 않으므로, 다른 서브넷에서 DHCP 서버를 사용하려면 **DHCP Relay**가 필요하다.     
* Offer, Request, ACK 단계를 거쳐 클라이언트는 네트워크 설정을 자동으로 획득한다.
---

