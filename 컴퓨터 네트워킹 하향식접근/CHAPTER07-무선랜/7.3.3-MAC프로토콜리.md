
## 1. MAC 프로토콜 개념

MAC 프로토콜(Media Access Control Protocol)은 **여러 장치가 하나의 공유 전송 매체를 사용할 때, 누가 언제 전송할지를 결정하는 규칙**이다.
데이터 링크 계층의 하위 계층인 MAC 서브계층에서 동작한다.

MAC 프로토콜의 목적은 **충돌을 최소화하고 매체 사용 효율을 높이는 것**이다.

---

## 2. MAC 프로토콜이 필요한 이유

공유 매체 환경에서는 여러 장치가 동시에 전송하려고 하면 충돌이 발생한다.
충돌이 발생하면 데이터는 손실되고 재전송이 필요하다.
MAC 프로토콜은 이러한 충돌 문제를 제어하기 위해 필요하다.

---

## 3. MAC 프로토콜의 핵심 역할

* 전송 순서를 결정한다.
* 충돌을 감지하거나 회피한다.
* 매체 사용 권한을 제어한다.
* 공정성을 유지한다.

---

## 4. MAC 프로토콜의 분류

### 1) 채널 분할 방식

공유 매체를 시간이나 주파수로 나누어 사용한다.

* TDMA는 시간을 분할한다.
* FDMA는 주파수를 분할한다.
* CDMA는 코드를 분할한다.

충돌은 발생하지 않지만, 트래픽이 적을 때 자원이 낭비된다.

---

### 2) 랜덤 접근 방식

필요할 때 매체에 접근하고 충돌을 처리한다.

* ALOHA
* Slotted ALOHA
* CSMA
* CSMA/CD
* CSMA/CA

충돌 가능성은 있지만 유연하다.

---

### 3) 순번 기반 방식

정해진 순서대로 전송 기회를 부여한다.

* Polling
* Token Passing

공정하지만 지연이 발생할 수 있다.

---

## 5. 대표 MAC 프로토콜 예시

### 유선 이더넷

* CSMA/CD를 사용한다.
* 충돌을 감지하고 중단 후 재전송한다.
* 현재는 스위치 환경으로 인해 거의 사용되지 않는다.

### 무선 LAN

* CSMA/CA를 사용한다.
* 충돌을 감지할 수 없어 회피 방식을 사용한다.
* RTS/CTS로 숨은 단말 문제를 완화한다.

---

## 6. 동작 예시로 이해하기

### 공유 네트워크 상황

여러 대의 컴퓨터가 하나의 네트워크 케이블을 공유한다.

### MAC 프로토콜 동작

1. 매체가 비어 있는지 확인한다.
2. 비어 있으면 전송을 시도한다.
3. 충돌이 발생하면 전송을 중단하고 대기한다.
4. 다시 전송한다.

이 과정을 규칙으로 만든 것이 MAC 프로토콜이다.

---

## 7. MAC 프로토콜 요약 표

| 구분    | 내용                 |
| ----- | ------------------ |
| 계층    | 데이터 링크 계층이다        |
| 목적    | 공유 매체 접근 제어이다      |
| 핵심 문제 | 충돌 제어이다            |
| 주요 방식 | 분할, 랜덤, 순번 방식이다    |
| 대표 예  | CSMA/CD, CSMA/CA이다 |

---

## 8. 핵심 한 줄 요약

MAC 프로토콜은 **공유된 전송 매체에서 충돌 없이 효율적으로 통신하기 위한 데이터 링크 계층의 접근 제어 규칙**이다.


---

## 1. CSMA/CD와 CSMA/CA 차이

### 개념 정리

#### CSMA/CD

CSMA/CD는 전송 전에 매체를 감지하고, 전송 중 충돌을 감지하면 즉시 중단하는 방식이다.
유선 이더넷에서 사용한다.

#### CSMA/CA

CSMA/CA는 전송 전에 매체를 감지하고, 충돌이 발생하지 않도록 회피하는 방식이다.
무선 LAN에서 사용한다.

---

### 왜 방식이 다른가

* 유선은 전송하면서 충돌을 감지할 수 있다.
* 무선은 송신 중 수신이 불가능해 충돌 감지가 불가능하다.

따라서 무선에서는 충돌 감지 대신 회피 방식을 사용한다.

---

### 동작 예시

#### CSMA/CD 예시

1. 매체가 비어 있는지 확인한다.
2. 데이터 전송을 시작한다.
3. 충돌이 발생하면 즉시 전송을 중단한다.
4. 랜덤 시간 대기 후 재전송한다.

#### CSMA/CA 예시

1. 매체가 비어 있는지 확인한다.
2. 랜덤 백오프 시간을 기다린다.
3. 데이터 전송을 시작한다.
4. ACK를 받지 못하면 재전송한다.

---

### 비교 요약 표

| 구분      | CSMA/CD      | CSMA/CA       |
| ------- | ------------ | ------------- |
| 사용 환경   | 유선 LAN이다     | 무선 LAN이다      |
| 충돌 처리   | 충돌 감지 후 중단이다 | 충돌 회피 후 재전송이다 |
| 전송 중 감지 | 가능하다         | 불가능하다         |
| 대표 기술   | Ethernet이다   | IEEE 802.11이다 |

---

## 2. 무선에서 충돌 감지가 불가능한 이유

### 개념 정리

무선 통신에서는 송신 신호가 수신 신호보다 훨씬 강하다.
송신 중에는 자신의 신호 때문에 상대의 신호를 감지할 수 없다.

이를 반이중 통신 특성이라 한다.

---

### 예시

사람이 크게 말하면서 동시에 상대의 작은 속삭임을 듣지 못하는 상황과 같다.

---

### 핵심 요약

| 이유        | 설명                |
| --------- | ----------------- |
| 송수신 동시 불가 | 반이중 통신이다          |
| 신호 세기 차이  | 자기 신호가 압도적으로 크다   |
| 환경 변수     | 거리, 장애물, 간섭이 존재한다 |

---

## 3. MAC과 LLC 역할 분리

### 개념 정리

데이터 링크 계층은 두 개의 하위 계층으로 나뉜다.

* MAC 서브계층은 매체 접근을 담당한다.
* LLC 서브계층은 상위 계층과의 인터페이스를 담당한다.

이 분리는 다양한 물리 매체를 효율적으로 지원하기 위함이다.

---

### 역할 비교

| 구분       | MAC         | LLC         |
| -------- | ----------- | ----------- |
| 주요 역할    | 매체 접근 제어이다  | 논리적 링크 관리이다 |
| 주소       | MAC 주소 사용이다 | 논리적 식별이다    |
| 충돌 제어    | 담당한다        | 담당하지 않는다    |
| 상위 계층 연계 | 직접적이다       | 중간 계층이다     |

---

### 예시

* MAC은 “지금 누가 말해도 되는가”를 결정한다.
* LLC는 “이 데이터가 어떤 프로토콜용인가”를 구분한다.

---

## 4. 전체 흐름 한 번에 정리

1. 공유 매체에서는 충돌 문제가 발생한다.
2. 이를 해결하기 위해 MAC 프로토콜이 존재한다.
3. 유선은 CSMA/CD를 사용한다.
4. 무선은 CSMA/CA를 사용한다.
5. MAC은 접근 제어를 담당한다.
6. LLC는 상위 계층 연결을 담당한다.

---

## 핵심 한 줄 요약

MAC 프로토콜은 **공유 매체에서 누가 언제 말할지를 정하고, 환경에 따라 충돌을 감지하거나 회피하는 데이터 링크 계층의 핵심 규칙**이다.
